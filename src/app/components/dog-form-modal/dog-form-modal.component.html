<mat-card class="dog-card">
  <mat-card-header>
    <mat-card-title>
      {{ data.dog.id ? 'Editar Cão' : 'Adicionar Novo Cão' }}
    </mat-card-title>
  </mat-card-header>

  <mat-card-content>
    <form [formGroup]="form" (ngSubmit)="onSubmit()" class="dog-form" style="display: flex; flex-direction: column; height: 100%;">
      <!-- Imagem -->
      <div style="display: flex; align-items: center; gap: 16px; margin-bottom: 16px;">
        <img *ngIf="imagePreview" [src]="imagePreview" alt="Prévia da imagem" style="max-width: 120px; max-height: 120px; border-radius: 8px; border: 1px solid #ccc;">
        <input type="file" accept="image/*" (change)="onImageSelected($event)">
      </div>

      <!-- Nome -->
      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Nome</mat-label>
        <input matInput formControlName="name" required>
        <mat-error *ngIf="form.get('name')?.hasError('required')">
          Nome é obrigatório
        </mat-error>
      </mat-form-field>

      <!-- Temperamento -->
      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Temperamento</mat-label>
        <textarea matInput formControlName="temperament" rows="3"></textarea>
      </mat-form-field>

      <div class="form-row">
        <mat-form-field appearance="outline" class="form-field">
          <mat-label>Expectativa de vida</mat-label>
          <input matInput formControlName="life_span" placeholder="ex: 10-12 anos">
        </mat-form-field>

        <mat-form-field appearance="outline" class="form-field">
          <mat-label>Origem</mat-label>
          <input matInput formControlName="origin" placeholder="ex: Alemanha">
        </mat-form-field>
      </div>

      <div class="form-row">
        <mat-form-field appearance="outline" class="form-field">
          <mat-label>Peso (kg)</mat-label>
          <input matInput formControlName="weight" placeholder="ex: 25-32">
        </mat-form-field>

        <mat-form-field appearance="outline" class="form-field">
          <mat-label>Altura (cm)</mat-label>
          <input matInput formControlName="height" placeholder="ex: 55-60">
        </mat-form-field>
      </div>

      <div class="dialog-actions" style="display: flex; justify-content: flex-end; gap: 8px; margin-top: 16px;">
        <button mat-button type="button" (click)="onCancel()" class="cancel-button">
          Cancelar
        </button>
        <button mat-raised-button color="primary" type="submit" [disabled]="form.invalid" class="submit-button">
          <mat-icon>{{ data.dog.id ? 'edit' : 'add' }}</mat-icon>
          {{ data.dog.id ? 'Atualizar' : 'Salvar' }}
        </button>
      </div>
    </form>
  </mat-card-content>
</mat-card>
